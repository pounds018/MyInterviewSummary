## 1. 概述:
1. 几种insert语法简介:
```sql
   INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
       [INTO] tbl_name
       [PARTITION (partition_name [, partition_name] ...)]
       [(col_name [, col_name] ...)]
       { {VALUES | VALUE} (value_list) [, (value_list)] ...
         |
         VALUES row_constructor_list
       }
       [AS row_alias[(col_alias [, col_alias] ...)]]
       [ON DUPLICATE KEY UPDATE assignment_list]
   
   INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
       [INTO] tbl_name
       [PARTITION (partition_name [, partition_name] ...)]
       [AS row_alias[(col_alias [, col_alias] ...)]]
       SET assignment_list
       [ON DUPLICATE KEY UPDATE assignment_list]
   
   INSERT [LOW_PRIORITY | HIGH_PRIORITY] [IGNORE]
       [INTO] tbl_name
       [PARTITION (partition_name [, partition_name] ...)]
       [(col_name [, col_name] ...)]
       [AS row_alias[(col_alias [, col_alias] ...)]]
       {SELECT ... | TABLE table_name}
       [ON DUPLICATE KEY UPDATE assignment_list]
   /**
   ps:
      value:
          {expr | DEFAULT}
      
      value_list:
          value [, value] ...
      
      row_constructor_list:
          ROW(value_list)[, ROW(value_list)][, ...]
      
      assignment:
          col_name = [row_alias.]value
      
      assignment_list:
          assignment [, assignment] ...
    */
```  

insert语句可以向现有的数据表中插入一行或者多行新数据.insert...values,insert ... values ROW(),和insert ... set 这三种语句会将指定数值插入到表中.  
insert ... select 语句将其他表中查询出来的数据插入到表中.在MySQL 8.0.19版本以及之后的版本中,也可以使用insert ... table 将单表数据插入  
insert ... on duplicate key update 语句,可以实现 当插入数据违反了 唯一约束或者主键约束的时候,对已经存在的数据进行更新而不是插入操作.8.0.19版本以及之后的版本,可以在on duplicate
语句中可以使用 一个或者多个可选列的别名来关联待插入行的指定列数据  
> insert ... select 语句,更多信息详见 [insert ... select 语句](#2-insert--select-)  
> insert ... on duplicate key update,更多信息详见 [insert ... on duplicate key update](#3-insert--on-duplicate-key-update-)  
> insert ... delayed 语句在8.0版本,可以使用但是会被MySQL服务器忽略,具体原因见 [insert ... delayed 语句](#4-insert--delayed-)

`insert语句`要想向 表中插入数据需要拥有该表的 `insert 权限`. 如果使用了 `insert ... on duplicate key update语句` 并且执行了 `update操作` 就需要拥有该表的 
`update权限`. 对于已读但未修改的列，就只需要`select权限`(例如，对于仅在on DUPLICATE KEY UPDATE子句中col_name=expr赋值语句右侧引用的列)。  
当插入到分区表时,你可以选择插入到哪些分区和子分区中.PARTITION子句接受由逗号分隔的表中一个或多个分区或子分区(或两者)名称列表。如果给定的insert语句要插入的任何行与列出的分区之一不匹配，
则INSERT语句将失败，错误为Found a row not matching the给定的分区集。有关更多信息和示例，请参见“分区选择”。  
`tal_name` 为数据将要插入的表名.按照下面几种方式为语句提供的数据指定列名:
1. 在`tbl_name`之后,使用圆括号将由逗号分隔的列名括起来.这种方式,列名对应的数据值必须使用 value value_list,values(value_list),values[(value_list),(...)],
   select assignment_list语句.对于 `insert table语句`每行待插入数据列的数量要与表中列的数量相同
2. 如果在 `tbl_name` 之后没有指定待插入的列名, 那么 values list,select语句,table语句就必须要为 `待插入表中所有列`提供数据.`即每行插入数据的字段个数要与表中字段个数相同`
3. set 语句通过 `col_name=值` 的方式显示的给指定列分配具体值

`column value`可以通过下列方式给出:  
1. 严格sql模式没有开启,任何没有指定的列都将(显示或者隐式)设置为默认值. 例如, 插入语句中提供了一个column列表,但是部分列是表中没有命名的,未命名的列就会被设置为默认值.
   `默认值的分配,详见DATA TYEP DEFAULT VALUES` 和 `关于无效数据的强制限制`  
   如果严格sql模式开启了,如果没有给无默认值的列在 `insert语句中` 指定具体的值,就会报错. `详见 server sql modes`  
2. 如果在insert语句中,既没有column_value_list 也没有 column_list的话, `insert 语句`就会插入一条全是默认值的数据.sql举例:
```sql
insert into tbl_name () values();
```
严格sql模式没有开启,对于任何一个没有显示设置默认值的列,在插入的时候MySQL都会使用隐式默认值.  
严格SQL模式开启,如果存在任何一个没有默认值的列,都会发生错误.  
3. 使用default 关键字显示地给某一列设置默认值,可以让只给部分列插入值得时候编写sql更便捷.设置了之后可以不用给所有的字段都提供对应的值.  
4. 当显示生成列的时候,只能允许默认值. `详见CREATE TABLE and Generated Columns.`  
5. 语句中,可以使用 DEFAULT(col_name) 给col_name 生成默认值  
6. `insert语句`中提供的数据类型与字段要求的数据类型不同,就可能发生类型转换.由于字段类型的不同,插入数据的转换结果也不同.比如:
> 1. string '1999.0e-2' 插入到 INT,FLOAT,DECIMAL(10,6) 或者 YEAR类型,插入结果为[1999,19.9921,19.992100,1999]  
> INT,YEAR类型字段数据会转换成 1999,是因为 string -> int,year只会转换整数部分 
> float,decimal会按照不同精度要求转换数据的值,即将这个字符串视为有效数字的值
7. 在待插入value_list中可以通过col_name获取到其在value_list中对应的值,注意: `只能获取到在value_list中当前字段之前字段的值`,比如:
```sql 
    INSERT INTO tbl_name (col1,col2) values(15, col1*2)
```
> 下面这条语句就是错误的,因为col1引用了col2,但是col2还没有分配值
```sql
    INSERT INTO tbl_name (col1,col2) vlaues(col2*2,col1)
```
> 注意: 任何设置了自增的字段,在使用上面这个语法的时候会出现异常情况,因为自增的值产生在其他值分配了之后,任何自增字段的引用在返回的时候总是`返回0`  

`insert语句`可以使用values()语法来插入多条数据. `只需要使用逗号分隔单条数据插入的value_list`,比如:
```sql
INSERT INTO tbl_anme (a,b,c) VALUES(1,2,3),(4,5,6),(7,8,9)
```
每个value_list都需要包含与tbl_name后面的 col_name_list数量相同的value.下面这个就是错误的
```sql
INSERT INTO tbl_name(a,b,c) values(12,3,1,2,3,2,31,1,3)
```

## 2. insert ... select 语句:
## 3. insert ... on duplicate key update 语句:
## 4. insert ... delayed 语句:
