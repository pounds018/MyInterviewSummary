## 0.1 进程与线程:  

### 0.1.1 进程:  
1. `程序`由指令和数据组成,但这些指令要运行,数据要读写,就必须将指令加载至CPU,数据加载至内存.在指令运行过程中还需要用到磁盘,网络等设备.`进程`就是用来加载指令,管理内存,管理I/O的

2. 当一个`程序`被运行,从磁盘加载这个程序的代码至内存,这时就开启了一个`进程`.

3. `进程`可以被视为是程序的一个实例.大部分`程序`可以同时运行多个进程实例.   

4. `进程`的典型定义:  
    - `进程`是程序的一次执行.
    - `进程`是操作系统对一个正在运行的程序的一种抽象`进程是对程序执行过程中处理器,主存,I/O设备的抽象表示`
    - `进程`是一个程序及其数据在处理机上顺序只执行时所发生的活动.
    - `进程`是具有独立功能的程序在一个数据集合上运行的过程,是系统进行资源分配和调度的一个独立单位
    > `进程`是进程实体的运行过程,是系统进行资源分配和调度的一个独立单位

### 0.1.2 上下文:
1.  上下文概念:  
    操作系统保持梗阻进程运行的所有状态信息,这种状态信息也就是`上下文`,包括: `PC和寄存器文件的当前值`, `主存的内容`.

2. 上下文切换:  
   在任何一个时刻,单处理器系统都只能执行一个进程的代码.当操作系统决定把控制权从当前进程转移到某个新进程时,会进行进程状态信息的存储当前进程的上下文和恢复新进程的上下文
   ,这个存储和恢复的过程称为`上下文切换`
   

### 0.1.3 线程:  
1. 在多线程操作系统中,将`拥有资源的基本单位`与`调度和分派的基本单位分开处理`,此时一个`进程`中含有一个或者多个(线程之间)相对独立的`线程`:
    - `进程`在多线程操作系统中,只是`拥有资源的基本单位(最小单位)`,而不再是一个可执行的实体.
    - `线程`在操作系统中,`为了减少程序在并发执行时所付出的时空开销`成为了一个可执行的实体,即`线程是CPU调度和分派的基本单位(最小单位)`
    
2. `线程`由`线程标识符`,`程序计数器`,`一组寄存器的值`和`堆栈`组成,除了上述在运行中不可或缺的资源外,`线程`基本不拥有系统资源.
   > `线程`可以和属于相同`进程`的`线程`共享`进程`所拥有的全部资源,比如: `进程`的`代码段`,`数据段`,`已打开的文件`,`定时器`和`信号量机构`等
   
3. 每个`线程`都是一个可执行的实体,`不同进程`中的多个线程以及`同一个进程`内的多个线程均可以并发的执行.

4. 创建`线程`时不需要操作系统另行分配资源,终止线程时也不需要进行资源的回收,`线程`切换的时候也大大的减少了需要保存和恢复的现场信息,因此`线程的
   创建,终止和切换都要比进程迅速且开销小`
   
5. 在windows中`进程`是不活动的,只是作为`线程`的容器.  

6. 线程状态: 
    
### 0.1.4 进程与线程的对比:  
- `关系`: 进程之间是相互独立的,而线程存在于进程内,是进程的一个子集.
- `资源`: 进程拥有可共享的资源,由其内部的线程共享,线程除了一些运行必须的资源外基本上不拥有系统资源.
- `通信`: 
    - `进程`之间通信比较复杂,同计算机上进程通信成为 `IPC(inter-process communication)`,不同计算机之间的进程通信,需要通过网络传输
    - `线程`之间通信相对于`进程`比较简单, 因为`线程之间`共享进程内的内存, 比如: 多线程并发修改共享变量
- `开销`: 线程上下文切换成本比进程上下文切换低的多.

## 0.2 并行和并发:  

1. `并发`: 多个线程同时启动,但是`同一个时刻`内,只能有一个线程运行,多个线程之间采用交替运行的方式运行

2. `并行`: 多个线程同时启动,但是`同一个时刻`内,多个线程同时运行.  

![并行和并发](../../_media/chapter11_MultiThread/0_基础知识/并行和并发.png)  
> 并行和并发的侧重点不一样,并发说的是多线程同时启动,但是线程是交替执行,并行则是真正意义上的`同时执行`

## 0.3 同步和异步:  
同步: 小明在泡面的过程期间,什么也不干,就一直等待到面泡好.  
异步: 小红在泡面的过程期间,定个闹钟然后切了两个水果,冲了一杯咖啡.当闹钟响了表示面泡好了.  
> 线程在同步操作的时候,会一直处于伴随这个操作直到操作执行完毕,异步相当于线程将异步操作分派出去,然后线程继续处理其他操作.